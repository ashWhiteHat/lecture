- [詳細な仕様について](#詳細な仕様について)
  - [トランザクションの伝搬](#トランザクションの伝搬)
  - [独立したトランザクションの検証](#独立したトランザクションの検証)
  - [EthereumのMempool](#ethereumのmempool)
  - [ブロックの提案・投票ノードの選択](#ブロックの提案投票ノードの選択)
  - [ブロックへの投票 (attestation)](#ブロックへの投票-attestation)
  - [ブロックへの作成](#ブロックへの作成)
  - [トランザクションの実行](#トランザクションの実行)
  - [ブロックチェーンの構造](#ブロックチェーンの構造)
  - [EthereumのPoS (Proof-of-Stake)](#ethereumのpos-proof-of-stake)
  - [独立したブロックの検証](#独立したブロックの検証)
  - [コンセンサスと報酬メカニズム](#コンセンサスと報酬メカニズム)


# 詳細な仕様について

トランザクションのライフサイクルにおいて、詳細をみてみよう。

以前のEthereumと比較して、かなり変わっている。

``` diff
EOAは、トランザクション(Message Call or Contract Creation)を各ノードに伝搬する
各ノードは、受け取ったトランザクションを独立に検証する
各ノードは、問題が無いトランザクションのみを溜め、かつ他のノードに伝搬する
- マイナーノードは、溜まりから任意のトランザクションをブロックに格納する
+ バリデータノードたちは、確率的にブロックの提案 or 投票ノードに選ばれる
+ 投票ノードたちは、正統と考えるチェーンの先端にあるブロックを宣言する
+ 提案ノードは、任意のトランザクションおよび宣言をブロックに格納する
- マイナーノードは、ブロック内のトランザクションを実行する
+ 提案ノードは、ブロック内のトランザクションを実行する
- マイナーノードは、ブロックを既存のチェーンに含まれるいずれかのブロックに繋ぐ
+ 提案ノードは、ブロックを既存のチェーンに含まれるいずれかのブロックに繋ぐ
- マイナーノードは、PoW (Proof-of-Work) を経てブロックを完成させる
- マイナーノードは、完成したブロックを各ノードに伝搬する
+ 提案ノードは、完成したブロックを各ノードに伝搬する
+ 各ノードは、受け取ったブロックに問題が無いかを独立に検証する
各ノードは、受け取ったブロックに問題が無いかを独立に検証する
各ノードは、問題が無いブロックのみを自身のチェーンに反映する
Ethereumは、最も重いチェーンを「正しい」状態遷移の記録とする
```



## トランザクションの伝搬
## 独立したトランザクションの検証
## EthereumのMempool
## ブロックの提案・投票ノードの選択
## ブロックへの投票 (attestation)
## ブロックへの作成 
## トランザクションの実行
## ブロックチェーンの構造
## EthereumのPoS (Proof-of-Stake)
## 独立したブロックの検証
## コンセンサスと報酬メカニズム

詳細は構造はここまで。最後にEthereumのガバナンスと課題をみてみよう。